{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{PermissionStatus}from\"./Permissions.types\";function _getUserMedia(constraints){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){return navigator.mediaDevices.getUserMedia(constraints);}var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var error=new Error('Permission unimplemented');error.code=0;error.name='NotAllowedError';throw error;};return new Promise(function(resolve,reject){getUserMedia.call(navigator,constraints,resolve,reject);});}function askForMediaPermissionAsync(_x){return _askForMediaPermissionAsync.apply(this,arguments);}function _askForMediaPermissionAsync(){_askForMediaPermissionAsync=_asyncToGenerator(function*(options){try{yield _getUserMedia(options);return{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:true,granted:true};}catch(_ref){var message=_ref.message;if(message==='Permission dismissed'){return{status:PermissionStatus.UNDETERMINED,expires:'never',canAskAgain:true,granted:false};}else{return{status:PermissionStatus.DENIED,expires:'never',canAskAgain:true,granted:false};}}});return _askForMediaPermissionAsync.apply(this,arguments);}function askForMicrophonePermissionAsync(){return _askForMicrophonePermissionAsync.apply(this,arguments);}function _askForMicrophonePermissionAsync(){_askForMicrophonePermissionAsync=_asyncToGenerator(function*(){return yield askForMediaPermissionAsync({audio:true});});return _askForMicrophonePermissionAsync.apply(this,arguments);}function askForCameraPermissionAsync(){return _askForCameraPermissionAsync.apply(this,arguments);}function _askForCameraPermissionAsync(){_askForCameraPermissionAsync=_asyncToGenerator(function*(){return yield askForMediaPermissionAsync({video:true});});return _askForCameraPermissionAsync.apply(this,arguments);}function askForLocationPermissionAsync(){return _askForLocationPermissionAsync.apply(this,arguments);}function _askForLocationPermissionAsync(){_askForLocationPermissionAsync=_asyncToGenerator(function*(){return new Promise(function(resolve){navigator.geolocation.getCurrentPosition(function(){return resolve({status:PermissionStatus.GRANTED,expires:'never',canAskAgain:true,granted:true});},function(_ref2){var code=_ref2.code;if(code===1){resolve({status:PermissionStatus.DENIED,expires:'never',canAskAgain:true,granted:false});}else{resolve({status:PermissionStatus.UNDETERMINED,expires:'never',canAskAgain:true,granted:false});}});});});return _askForLocationPermissionAsync.apply(this,arguments);}function getPermissionWithQueryAsync(_x2){return _getPermissionWithQueryAsync.apply(this,arguments);}function _getPermissionWithQueryAsync(){_getPermissionWithQueryAsync=_asyncToGenerator(function*(name){if(!navigator||!navigator.permissions||!navigator.permissions.query)return null;var _yield$navigator$perm=yield navigator.permissions.query({name:name}),state=_yield$navigator$perm.state;if(state==='prompt'){return PermissionStatus.UNDETERMINED;}else if(state==='granted'){return PermissionStatus.GRANTED;}else if(state==='denied'){return PermissionStatus.DENIED;}return null;});return _getPermissionWithQueryAsync.apply(this,arguments);}function enumerateDevices(){return _enumerateDevices.apply(this,arguments);}function _enumerateDevices(){_enumerateDevices=_asyncToGenerator(function*(){if(navigator&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){return yield navigator.mediaDevices.enumerateDevices();}if(window.MediaStreamTrack&&typeof window.MediaStreamTrack.getSources==='function'){return yield MediaStreamTrack.getSources();}return null;});return _enumerateDevices.apply(this,arguments);}function askSensorPermissionAsync(){return _askSensorPermissionAsync.apply(this,arguments);}function _askSensorPermissionAsync(){_askSensorPermissionAsync=_asyncToGenerator(function*(){var requestPermission=getRequestMotionPermission();if(!requestPermission)return PermissionStatus.GRANTED;var status=yield requestPermission();switch(status){case'granted':return PermissionStatus.GRANTED;case'denied':return PermissionStatus.DENIED;default:return PermissionStatus.UNDETERMINED;}});return _askSensorPermissionAsync.apply(this,arguments);}function getMediaMaybeGrantedAsync(_x3){return _getMediaMaybeGrantedAsync.apply(this,arguments);}function _getMediaMaybeGrantedAsync(){_getMediaMaybeGrantedAsync=_asyncToGenerator(function*(targetKind){var devices=yield enumerateDevices();if(!devices){return false;}var result=yield devices.filter(function(_ref3){var kind=_ref3.kind;return kind===targetKind;}).some(function(_ref4){var label=_ref4.label;return label!=='';});return result;});return _getMediaMaybeGrantedAsync.apply(this,arguments);}function getPermissionAsync(_x4,_x5){return _getPermissionAsync.apply(this,arguments);}function _getPermissionAsync(){_getPermissionAsync=_asyncToGenerator(function*(permission,shouldAsk){switch(permission){case'userFacingNotifications':case'notifications':{if(!shouldAsk){var status=yield getPermissionWithQueryAsync('notifications');if(status){return{status:status,expires:'never',granted:status===PermissionStatus.GRANTED,canAskAgain:true};}}var _window=window,_window$Notification=_window.Notification,Notification=_window$Notification===void 0?{}:_window$Notification;if(Notification.requestPermission){var _status=Notification.permission;if(shouldAsk){_status=yield Notification.requestPermission();}if(!_status||_status==='default'){return{status:PermissionStatus.UNDETERMINED,expires:'never',canAskAgain:true,granted:false};}return{status:_status,expires:'never',canAskAgain:true,granted:_status===PermissionStatus.GRANTED};}}break;case'motion':{if(shouldAsk){var _status2=yield askSensorPermissionAsync();return{status:_status2,expires:'never',granted:_status2===PermissionStatus.GRANTED,canAskAgain:false};}var _status3=getRequestMotionPermission()?PermissionStatus.UNDETERMINED:isIOS()?PermissionStatus.DENIED:PermissionStatus.GRANTED;return{status:_status3,expires:'never',canAskAgain:true,granted:_status3===PermissionStatus.GRANTED};}case'location':case'locationForeground':case'locationBackground':{var maybeStatus=yield getPermissionWithQueryAsync('geolocation');if(maybeStatus){if(maybeStatus===PermissionStatus.UNDETERMINED&&shouldAsk){return yield askForLocationPermissionAsync();}return{status:maybeStatus,expires:'never',canAskAgain:true,granted:maybeStatus===PermissionStatus.GRANTED};}else if(shouldAsk){return yield askForLocationPermissionAsync();}}break;case'audioRecording':{var _maybeStatus=yield getPermissionWithQueryAsync('microphone');if(_maybeStatus){if(_maybeStatus===PermissionStatus.UNDETERMINED&&shouldAsk){return yield askForMicrophonePermissionAsync();}return{status:_maybeStatus,expires:'never',canAskAgain:true,granted:_maybeStatus===PermissionStatus.GRANTED};}else if(shouldAsk){return yield askForMicrophonePermissionAsync();}else{var maybeGranted=yield getMediaMaybeGrantedAsync('audioinput');if(maybeGranted){return{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:true,granted:true};}}}break;case'camera':{var _maybeStatus2=yield getPermissionWithQueryAsync('camera');if(_maybeStatus2){if(_maybeStatus2===PermissionStatus.UNDETERMINED&&shouldAsk){return yield askForCameraPermissionAsync();}return{status:_maybeStatus2,expires:'never',canAskAgain:true,granted:_maybeStatus2===PermissionStatus.GRANTED};}else if(shouldAsk){return yield askForCameraPermissionAsync();}else{var _maybeGranted=yield getMediaMaybeGrantedAsync('videoinput');if(_maybeGranted){return{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:true,granted:true};}}}break;default:break;}return{status:PermissionStatus.UNDETERMINED,expires:'never',canAskAgain:true,granted:false};});return _getPermissionAsync.apply(this,arguments);}export default{get name(){return'ExpoPermissions';},getAsync:function(){var _getAsync=_asyncToGenerator(function*(permissionTypes){var results={};for(var permissionType of new Set(permissionTypes)){results[permissionType]=yield getPermissionAsync(permissionType,false);}return results;});function getAsync(_x6){return _getAsync.apply(this,arguments);}return getAsync;}(),askAsync:function(){var _askAsync=_asyncToGenerator(function*(permissionTypes){var results={};for(var permissionType of new Set(permissionTypes)){results[permissionType]=yield getPermissionAsync(permissionType,true);}return results;});function askAsync(_x7){return _askAsync.apply(this,arguments);}return askAsync;}()};export function getRequestMotionPermission(){var _DeviceMotionEvent;if(typeof DeviceMotionEvent!=='undefined'&&!!((_DeviceMotionEvent=DeviceMotionEvent)!=null&&_DeviceMotionEvent.requestPermission)){return DeviceMotionEvent.requestPermission;}return null;}function isIOS(){var isIOSUA=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);var isIE11=!!window['MSStream'];return isIOSUA&&!isIE11;}","map":{"version":3,"names":["PermissionStatus","_getUserMedia","constraints","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","error","Error","code","name","Promise","resolve","reject","call","askForMediaPermissionAsync","_x","_askForMediaPermissionAsync","apply","arguments","_asyncToGenerator","options","status","GRANTED","expires","canAskAgain","granted","_ref","message","UNDETERMINED","DENIED","askForMicrophonePermissionAsync","_askForMicrophonePermissionAsync","audio","askForCameraPermissionAsync","_askForCameraPermissionAsync","video","askForLocationPermissionAsync","_askForLocationPermissionAsync","geolocation","getCurrentPosition","_ref2","getPermissionWithQueryAsync","_x2","_getPermissionWithQueryAsync","permissions","query","_yield$navigator$perm","state","enumerateDevices","_enumerateDevices","window","MediaStreamTrack","getSources","askSensorPermissionAsync","_askSensorPermissionAsync","requestPermission","getRequestMotionPermission","getMediaMaybeGrantedAsync","_x3","_getMediaMaybeGrantedAsync","targetKind","devices","result","filter","_ref3","kind","some","_ref4","label","getPermissionAsync","_x4","_x5","_getPermissionAsync","permission","shouldAsk","_window","_window$Notification","Notification","isIOS","maybeStatus","maybeGranted","getAsync","_getAsync","permissionTypes","results","permissionType","Set","_x6","askAsync","_askAsync","_x7","_DeviceMotionEvent","DeviceMotionEvent","isIOSUA","test","userAgent","isIE11"],"sources":["/Users/jinwook/react-native/daily-pt-frontend/node_modules/expo-permissions/src/ExpoPermissions.web.ts"],"sourcesContent":["import {\n  PermissionMap,\n  PermissionType,\n  PermissionStatus,\n  PermissionInfo,\n} from './Permissions.types';\n\n/*\n * TODO: Bacon: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Permissions\n * Add messages to manifest like we do with iOS info.plist\n */\n\n// https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Using_the_new_API_in_older_browsers\n// Older browsers might not implement mediaDevices at all, so we set an empty object first\nfunction _getUserMedia(constraints: MediaStreamConstraints): Promise<MediaStream> {\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    return navigator.mediaDevices.getUserMedia(constraints);\n  }\n\n  // Some browsers partially implement mediaDevices. We can't just assign an object\n  // with getUserMedia as it would overwrite existing properties.\n  // Here, we will just add the getUserMedia property if it's missing.\n\n  // First get ahold of the legacy getUserMedia, if present\n  const getUserMedia =\n    // TODO: this method is deprecated, migrate to https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n    navigator.getUserMedia ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia ||\n    function () {\n      const error: any = new Error('Permission unimplemented');\n      error.code = 0;\n      error.name = 'NotAllowedError';\n      throw error;\n    };\n\n  return new Promise((resolve, reject) => {\n    getUserMedia.call(navigator, constraints, resolve, reject);\n  });\n}\n\nasync function askForMediaPermissionAsync(\n  options: MediaStreamConstraints\n): Promise<PermissionInfo> {\n  try {\n    await _getUserMedia(options);\n    return {\n      status: PermissionStatus.GRANTED,\n      expires: 'never',\n      canAskAgain: true,\n      granted: true,\n    };\n  } catch ({ message }) {\n    // name: NotAllowedError\n    // code: 0\n    if (message === 'Permission dismissed') {\n      // message: Permission dismissed\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n    } else {\n      // TODO: Bacon: [OSX] The system could deny access to chrome.\n      // TODO: Bacon: add: { status: 'unimplemented' }\n      // message: Permission denied\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n    }\n  }\n}\n\nasync function askForMicrophonePermissionAsync(): Promise<PermissionInfo> {\n  return await askForMediaPermissionAsync({ audio: true });\n}\n\nasync function askForCameraPermissionAsync(): Promise<PermissionInfo> {\n  return await askForMediaPermissionAsync({ video: true });\n}\n\nasync function askForLocationPermissionAsync(): Promise<PermissionInfo> {\n  return new Promise((resolve) => {\n    navigator.geolocation.getCurrentPosition(\n      () =>\n        resolve({\n          status: PermissionStatus.GRANTED,\n          expires: 'never',\n          canAskAgain: true,\n          granted: true,\n        }),\n      ({ code }: GeolocationPositionError) => {\n        // https://developer.mozilla.org/en-US/docs/Web/API/PositionError/code\n        if (code === 1) {\n          resolve({\n            status: PermissionStatus.DENIED,\n            expires: 'never',\n            canAskAgain: true,\n            granted: false,\n          });\n        } else {\n          resolve({\n            status: PermissionStatus.UNDETERMINED,\n            expires: 'never',\n            canAskAgain: true,\n            granted: false,\n          });\n        }\n      }\n    );\n  });\n}\n\nasync function getPermissionWithQueryAsync(\n  name: PermissionNameWithAdditionalValues\n): Promise<PermissionStatus | null> {\n  if (!navigator || !navigator.permissions || !navigator.permissions.query) return null;\n\n  const { state } = await navigator.permissions.query({ name });\n  if (state === 'prompt') {\n    return PermissionStatus.UNDETERMINED;\n  } else if (state === 'granted') {\n    return PermissionStatus.GRANTED;\n  } else if (state === 'denied') {\n    return PermissionStatus.DENIED;\n  }\n  return null;\n}\n\nasync function enumerateDevices(): Promise<MediaDeviceInfo[] | null> {\n  if (navigator && navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {\n    return await navigator.mediaDevices.enumerateDevices();\n  }\n\n  // @ts-ignore: This is deprecated but we should still attempt to use it.\n  if (window.MediaStreamTrack && typeof window.MediaStreamTrack.getSources === 'function') {\n    // @ts-ignore\n    return await MediaStreamTrack.getSources();\n  }\n  return null;\n}\n\nasync function askSensorPermissionAsync(): Promise<PermissionStatus> {\n  const requestPermission = getRequestMotionPermission();\n  // Technically this is incorrect because it doesn't account for iOS 12.2 Safari.\n  // But unfortunately we can only abstract so much.\n  if (!requestPermission) return PermissionStatus.GRANTED;\n\n  // If this isn't invoked in a touch-event then it never resolves.\n  // Safari probably should throw an error but because it doesn't we have no way of informing the developer.\n  const status = await requestPermission();\n  switch (status) {\n    case 'granted':\n      return PermissionStatus.GRANTED;\n    case 'denied':\n      return PermissionStatus.DENIED;\n    default:\n      return PermissionStatus.UNDETERMINED;\n  }\n}\n\nasync function getMediaMaybeGrantedAsync(targetKind: MediaDeviceKind): Promise<boolean> {\n  const devices = await enumerateDevices();\n  if (!devices) {\n    return false;\n  }\n  const result = await devices\n    .filter(({ kind }) => kind === targetKind)\n    .some(({ label }) => label !== '');\n  // Granted or denied or undetermined or no devices\n  return result;\n}\n\nasync function getPermissionAsync(\n  permission: PermissionType,\n  shouldAsk: boolean\n): Promise<PermissionInfo> {\n  switch (permission) {\n    case 'userFacingNotifications':\n    case 'notifications':\n      {\n        if (!shouldAsk) {\n          const status = await getPermissionWithQueryAsync('notifications');\n          if (status) {\n            return {\n              status,\n              expires: 'never',\n              granted: status === PermissionStatus.GRANTED,\n              canAskAgain: true,\n            };\n          }\n        }\n\n        const { Notification = {} } = window as any;\n        if (Notification.requestPermission) {\n          let status = Notification.permission;\n          if (shouldAsk) {\n            status = await Notification.requestPermission();\n          }\n          if (!status || status === 'default') {\n            return {\n              status: PermissionStatus.UNDETERMINED,\n              expires: 'never',\n              canAskAgain: true,\n              granted: false,\n            };\n          }\n          return {\n            status,\n            expires: 'never',\n            canAskAgain: true,\n            granted: status === PermissionStatus.GRANTED,\n          };\n        }\n      }\n      break;\n    case 'motion': {\n      if (shouldAsk) {\n        const status = await askSensorPermissionAsync();\n        return {\n          status,\n          expires: 'never',\n          granted: status === PermissionStatus.GRANTED,\n          canAskAgain: false,\n        };\n      }\n\n      // We can infer from the requestor if this is an older browser.\n      const status = getRequestMotionPermission()\n        ? PermissionStatus.UNDETERMINED\n        : isIOS()\n        ? PermissionStatus.DENIED\n        : PermissionStatus.GRANTED;\n      return {\n        status,\n        expires: 'never',\n        canAskAgain: true,\n        granted: status === PermissionStatus.GRANTED,\n      };\n    }\n    case 'location':\n    case 'locationForeground':\n    case 'locationBackground':\n      {\n        const maybeStatus = await getPermissionWithQueryAsync('geolocation');\n        if (maybeStatus) {\n          if (maybeStatus === PermissionStatus.UNDETERMINED && shouldAsk) {\n            return await askForLocationPermissionAsync();\n          }\n          return {\n            status: maybeStatus,\n            expires: 'never',\n            canAskAgain: true,\n            granted: maybeStatus === PermissionStatus.GRANTED,\n          };\n        } else if (shouldAsk) {\n          // TODO: Bacon: should this function as ask async when not in chrome?\n          return await askForLocationPermissionAsync();\n        }\n      }\n      break;\n    case 'audioRecording':\n      {\n        const maybeStatus = await getPermissionWithQueryAsync('microphone');\n        if (maybeStatus) {\n          if (maybeStatus === PermissionStatus.UNDETERMINED && shouldAsk) {\n            return await askForMicrophonePermissionAsync();\n          }\n          return {\n            status: maybeStatus,\n            expires: 'never',\n            canAskAgain: true,\n            granted: maybeStatus === PermissionStatus.GRANTED,\n          };\n        } else if (shouldAsk) {\n          return await askForMicrophonePermissionAsync();\n        } else {\n          const maybeGranted = await getMediaMaybeGrantedAsync('audioinput');\n          if (maybeGranted) {\n            return {\n              status: PermissionStatus.GRANTED,\n              expires: 'never',\n              canAskAgain: true,\n              granted: true,\n            };\n          }\n          // TODO: Bacon: Get denied or undetermined...\n        }\n      }\n      break;\n    case 'camera':\n      {\n        const maybeStatus = await getPermissionWithQueryAsync('camera');\n        if (maybeStatus) {\n          if (maybeStatus === PermissionStatus.UNDETERMINED && shouldAsk) {\n            return await askForCameraPermissionAsync();\n          }\n          return {\n            status: maybeStatus,\n            expires: 'never',\n            canAskAgain: true,\n            granted: maybeStatus === PermissionStatus.GRANTED,\n          };\n        } else if (shouldAsk) {\n          return await askForCameraPermissionAsync();\n        } else {\n          const maybeGranted = await getMediaMaybeGrantedAsync('videoinput');\n          if (maybeGranted) {\n            return {\n              status: PermissionStatus.GRANTED,\n              expires: 'never',\n              canAskAgain: true,\n              granted: true,\n            };\n          }\n          // TODO: Bacon: Get denied or undetermined...\n        }\n      }\n      break;\n    default:\n      break;\n  }\n  return {\n    status: PermissionStatus.UNDETERMINED,\n    expires: 'never',\n    canAskAgain: true,\n    granted: false,\n  };\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoPermissions';\n  },\n\n  async getAsync(permissionTypes: PermissionType[]): Promise<PermissionMap> {\n    const results = {};\n    for (const permissionType of new Set(permissionTypes)) {\n      results[permissionType] = await getPermissionAsync(permissionType, /* shouldAsk */ false);\n    }\n    return results;\n  },\n\n  async askAsync(permissionTypes: PermissionType[]): Promise<PermissionMap> {\n    const results = {};\n    for (const permissionType of new Set(permissionTypes)) {\n      results[permissionType] = await getPermissionAsync(permissionType, /* shouldAsk */ true);\n    }\n    return results;\n  },\n};\n\n/**\n * Temporary solution until `tslib.d.ts` is updated to include the new DeviceMotion API.\n * `typescript@4.4.4` is missing `requestPermission` described in https://w3c.github.io/deviceorientation/#devicemotion\n * MDN docs do not describe this property as well https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent\n */\ndeclare let DeviceMotionEvent: {\n  prototype: DeviceMotionEvent;\n  new (type: string, eventInitDict?: DeviceMotionEventInit): DeviceMotionEvent;\n  requestPermission?: () => Promise<PermissionState>;\n};\n\nexport function getRequestMotionPermission(): (() => Promise<PermissionState>) | null {\n  if (typeof DeviceMotionEvent !== 'undefined' && !!DeviceMotionEvent?.requestPermission) {\n    return DeviceMotionEvent.requestPermission;\n  }\n\n  return null;\n}\n\n// https://stackoverflow.com/a/9039885/4047926\nfunction isIOS(): boolean {\n  const isIOSUA = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n  const isIE11 = !!window['MSStream'];\n  return isIOSUA && !isIE11;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}