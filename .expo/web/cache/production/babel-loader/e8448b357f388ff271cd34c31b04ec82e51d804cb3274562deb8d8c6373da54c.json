{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{StatusBar}from'expo-status-bar';import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import UserInfoButton from\"../../components/UserInfoButton\";import GenderButton from\"../../components/GenderButton\";import{useNavigation,useRoute}from'@react-navigation/native';import{useState,useContext}from'react';import{AuthContext}from\"../../store/auth-context\";import{saveUserInfo}from\"../../api/userInfo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserGenderScreen=function UserGenderScreen(){var navigation=useNavigation();var route=useRoute();var authContext=useContext(AuthContext);var _route$params=route.params,name=_route$params.name,birth=_route$params.birth,height=_route$params.height,weight=_route$params.weight;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),enteredGender=_useState2[0],setEnteredGender=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),disabled=_useState4[0],setDisabled=_useState4[1];var handleGenderSelect=function handleGenderSelect(gender){setEnteredGender(gender);setDisabled(false);};var saveData=function(){var _ref=_asyncToGenerator(function*(){var userInfo={name:name,birth:birth,height:height,weight:weight,gender:enteredGender};console.log(JSON.stringify(userInfo));yield saveUserInfo(authContext.token,userInfo);navigation.navigate('Main',{screen:'Diet'});});return function saveData(){return _ref.apply(this,arguments);};}();return _jsxs(View,{children:[_jsx(Text,{style:styles.title,children:\"\\uC131\\uBCC4\\uB3C4 \\uC54C\\uB824\\uC8FC\\uC2DC\\uACA0\\uC5B4\\uC694?\"}),_jsx(Text,{style:styles.detail,children:\"\\uAE30\\uCD08 \\uB300\\uC0AC\\uB7C9\\uC744 \\uACC4\\uC0B0\\uD558\\uAE30 \\uC704\\uD574 \\uD544\\uC694\\uD574\\uC694!\"}),_jsx(View,{style:styles.genderButtonContainer,children:_jsx(GenderButton,{onSelectGender:handleGenderSelect})}),_jsx(UserInfoButton,{title:\"\\uC800\\uC7A5\",onPress:function onPress(){return saveData();},disabled:disabled}),_jsx(StatusBar,{style:\"auto\"})]});};var styles=StyleSheet.create({container:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'#fff'},title:{position:'absolute',top:Dimensions.get('window').height*0.1,left:Dimensions.get('window').width*0.06,fontSize:26,fontWeight:'900'},detail:{position:'absolute',top:Dimensions.get('window').height*0.15,left:Dimensions.get('window').width*0.06,fontSize:16,color:'#666666'}});export default UserGenderScreen;","map":{"version":3,"names":["StatusBar","Text","View","StyleSheet","Dimensions","UserInfoButton","GenderButton","useNavigation","useRoute","useState","useContext","AuthContext","saveUserInfo","jsx","_jsx","jsxs","_jsxs","UserGenderScreen","navigation","route","authContext","_route$params","params","name","birth","height","weight","_useState","_useState2","_slicedToArray","enteredGender","setEnteredGender","_useState3","_useState4","disabled","setDisabled","handleGenderSelect","gender","saveData","_ref","_asyncToGenerator","userInfo","console","log","JSON","stringify","token","navigate","screen","apply","arguments","children","style","styles","title","detail","genderButtonContainer","onSelectGender","onPress","create","container","flex","justifyContent","alignItems","backgroundColor","position","top","get","left","width","fontSize","fontWeight","color"],"sources":["/Users/jinwook/react-native/daily-pt-frontend/src/screens/UserInfoScreen/UserGenderScreen.js"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport { Text, View, StyleSheet, Dimensions } from 'react-native';\nimport UserInfoButton from '../../components/UserInfoButton';\nimport GenderButton from '../../components/GenderButton';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { useState, useContext } from 'react';\nimport { AuthContext } from '../../store/auth-context';\nimport { saveUserInfo } from '../../api/userInfo';\n\nconst UserGenderScreen = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const authContext = useContext(AuthContext);\n\n  const { name, birth, height, weight } = route.params;\n\n  const [enteredGender, setEnteredGender] = useState('');\n  const [disabled, setDisabled] = useState(true);\n\n  const handleGenderSelect = (gender) => {\n    setEnteredGender(gender);\n\n    setDisabled(false);\n  };\n\n  const saveData = async () => {\n    const userInfo = {\n      name: name,\n      birth: birth,\n      height: height,\n      weight: weight,\n      gender: enteredGender,\n    };\n\n    console.log(JSON.stringify(userInfo));\n\n    await saveUserInfo(authContext.token, userInfo);\n\n    navigation.navigate('Main', { screen: 'Diet' });\n  };\n\n  return (\n    <View>\n      <Text style={styles.title}>성별도 알려주시겠어요?</Text>\n      <Text style={styles.detail}>기초 대사량을 계산하기 위해 필요해요!</Text>\n      <View style={styles.genderButtonContainer}>\n        <GenderButton onSelectGender={handleGenderSelect} />\n      </View>\n\n      <UserInfoButton\n        title=\"저장\"\n        onPress={() => saveData()}\n        disabled={disabled}\n      />\n      <StatusBar style=\"auto\" />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  title: {\n    position: 'absolute',\n    top: Dimensions.get('window').height * 0.1,\n    left: Dimensions.get('window').width * 0.06,\n    fontSize: 26,\n    fontWeight: '900',\n  },\n  detail: {\n    position: 'absolute',\n    top: Dimensions.get('window').height * 0.15,\n    left: Dimensions.get('window').width * 0.06,\n    fontSize: 16,\n    color: '#666666',\n  },\n});\n\nexport default UserGenderScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}