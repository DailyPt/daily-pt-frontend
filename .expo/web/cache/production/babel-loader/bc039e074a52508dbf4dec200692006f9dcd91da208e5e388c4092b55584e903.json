{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{PermissionStatus,Platform}from'expo-modules-core';function convertPermissionStatus(status){switch(status){case'granted':return{status:PermissionStatus.GRANTED,expires:'never',canAskAgain:false,granted:true};case'denied':return{status:PermissionStatus.DENIED,expires:'never',canAskAgain:false,granted:false};default:return{status:PermissionStatus.UNDETERMINED,expires:'never',canAskAgain:true,granted:false};}}function resolvePermissionAsync(_x){return _resolvePermissionAsync.apply(this,arguments);}function _resolvePermissionAsync(){_resolvePermissionAsync=_asyncToGenerator(function*(_ref){var _navigator,_navigator$permission;var shouldAsk=_ref.shouldAsk;if(!Platform.isDOMAvailable){return convertPermissionStatus('denied');}var _window=window,_window$Notification=_window.Notification,Notification=_window$Notification===void 0?{}:_window$Notification;if(typeof Notification.requestPermission!=='undefined'){var status=Notification.permission;if(shouldAsk){status=yield new Promise(function(resolve,reject){var _Notification$request,_Notification$request2;var resolved=false;function resolveOnce(status){if(!resolved){resolved=true;resolve(status);}}(_Notification$request=Notification.requestPermission(resolveOnce))==null?void 0:(_Notification$request2=_Notification$request.then(resolveOnce))==null?void 0:_Notification$request2.catch(reject);});}return convertPermissionStatus(status);}else if(typeof navigator!=='undefined'&&(_navigator=navigator)!=null&&(_navigator$permission=_navigator.permissions)!=null&&_navigator$permission.query){var query=yield navigator.permissions.query({name:'notifications'});return convertPermissionStatus(query.state);}return convertPermissionStatus('denied');});return _resolvePermissionAsync.apply(this,arguments);}export default{addListener:function addListener(){},removeListeners:function removeListeners(){},getPermissionsAsync:function(){var _getPermissionsAsync=_asyncToGenerator(function*(){return resolvePermissionAsync({shouldAsk:false});});function getPermissionsAsync(){return _getPermissionsAsync.apply(this,arguments);}return getPermissionsAsync;}(),requestPermissionsAsync:function(){var _requestPermissionsAsync=_asyncToGenerator(function*(request){return resolvePermissionAsync({shouldAsk:true});});function requestPermissionsAsync(_x2){return _requestPermissionsAsync.apply(this,arguments);}return requestPermissionsAsync;}()};","map":{"version":3,"names":["PermissionStatus","Platform","convertPermissionStatus","status","GRANTED","expires","canAskAgain","granted","DENIED","UNDETERMINED","resolvePermissionAsync","_x","_resolvePermissionAsync","apply","arguments","_asyncToGenerator","_ref","_navigator","_navigator$permission","shouldAsk","isDOMAvailable","_window","window","_window$Notification","Notification","requestPermission","permission","Promise","resolve","reject","_Notification$request","_Notification$request2","resolved","resolveOnce","then","catch","navigator","permissions","query","name","state","addListener","removeListeners","getPermissionsAsync","_getPermissionsAsync","requestPermissionsAsync","_requestPermissionsAsync","request","_x2"],"sources":["/Users/jinwook/react-native/daily-pt-frontend/node_modules/expo-notifications/src/NotificationPermissionsModule.ts"],"sourcesContent":["import { PermissionStatus, Platform } from 'expo-modules-core';\n\nimport {\n  NativeNotificationPermissionsRequest,\n  NotificationPermissionsStatus,\n} from './NotificationPermissions.types';\nimport { NotificationPermissionsModule } from './NotificationPermissionsModule.types';\n\nfunction convertPermissionStatus(\n  status?: NotificationPermission | 'prompt'\n): NotificationPermissionsStatus {\n  switch (status) {\n    case 'granted':\n      return {\n        status: PermissionStatus.GRANTED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: true,\n      };\n    case 'denied':\n      return {\n        status: PermissionStatus.DENIED,\n        expires: 'never',\n        canAskAgain: false,\n        granted: false,\n      };\n    default:\n      return {\n        status: PermissionStatus.UNDETERMINED,\n        expires: 'never',\n        canAskAgain: true,\n        granted: false,\n      };\n  }\n}\n\nasync function resolvePermissionAsync({\n  shouldAsk,\n}: {\n  shouldAsk: boolean;\n}): Promise<NotificationPermissionsStatus> {\n  if (!Platform.isDOMAvailable) {\n    return convertPermissionStatus('denied');\n  }\n\n  const { Notification = {} } = window as any;\n  if (typeof Notification.requestPermission !== 'undefined') {\n    let status = Notification.permission;\n    if (shouldAsk) {\n      status = await new Promise((resolve, reject) => {\n        let resolved = false;\n        function resolveOnce(status: string) {\n          if (!resolved) {\n            resolved = true;\n            resolve(status);\n          }\n        }\n        // Some browsers require a callback argument and some return a Promise\n        Notification.requestPermission(resolveOnce)?.then(resolveOnce)?.catch(reject);\n      });\n    }\n    return convertPermissionStatus(status);\n  } else if (typeof navigator !== 'undefined' && navigator?.permissions?.query) {\n    // TODO(Bacon): Support `push` in the future when it's stable.\n    const query = await navigator.permissions.query({ name: 'notifications' });\n    return convertPermissionStatus(query.state);\n  }\n  // Platforms like iOS Safari don't support Notifications so return denied.\n  return convertPermissionStatus('denied');\n}\n\nexport default {\n  addListener: () => {},\n  removeListeners: () => {},\n  async getPermissionsAsync(): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: false });\n  },\n  async requestPermissionsAsync(\n    request: NativeNotificationPermissionsRequest\n  ): Promise<NotificationPermissionsStatus> {\n    return resolvePermissionAsync({ shouldAsk: true });\n  },\n} as NotificationPermissionsModule;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}